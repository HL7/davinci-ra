<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../src-generated/schemas/fhir-single.xsd">
  <id value="ra-measurereport"/>
  <url value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-measurereport"/>
  <name value="RiskAdjustmentCodingGapMeasureReport"/>
  <title value="Risk Adjustment Coding Gap MeasureReport"/>
  <status value="active"/>
  <experimental value="false"/>
  <description value="This profile is based on the [MeasureReport](http://hl7.org/fhir/R4/measurereport.html) to represent a risk adjustment coding gap report. Payer runs risk adjustment engine and uses this profile to represent the risk adjustment Condition Category (CC) coding gaps and their detailed information for a patient."/>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="US"/>
      <display value="United States of America"/>
    </coding>
  </jurisdiction>
  <fhirVersion value="4.0.1"/>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="MeasureReport"/>
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MeasureReport"/>
  <derivation value="constraint"/>
  <differential>
    <element id="MeasureReport">
      <path value="MeasureReport"/>
      <short value="This is a risk adjustment coding gap report."/>
      <definition value="This is a risk adjustment coding gap report of a patient/member using a specific version of a particular Risk Adjustment model."/>
    </element>

    <element id="MeasureReport.extension:measurereport-category">
      <path value="MeasureReport.extension"/>
      <sliceName value="measurereport-category"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/measurereport-category"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.extension:measurereport-category.value[x].coding">
      <path value="MeasureReport.extension.value[x].coding"/>
      <min value="1"/>
      <max value="1"/>
    </element>
    <element id="MeasureReport.extension:measurereport-category.value[x].coding.code">
      <path value="MeasureReport.extension.value[x].coding.code"/>
      <min value="1"/>
      <max value="1"/>
      <fixedCode value="ra"/>
    </element>

    <element id="MeasureReport.extension:clinicalDataCollectionDeadline">
      <path value="MeasureReport.extension"/>
      <sliceName value="clinicalDataCollectionDeadline"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-clinicalDataCollectionDeadline"/>
      </type>
      <mustSupport value="true"/>
    </element>

    <element id="MeasureReport.status">
      <path value="MeasureReport.status"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.type">
      <path value="MeasureReport.type"/>
      <short value="The type code is fixed to 'individual' for a risk adjustment coding gap report"/>
      <type>
        <code value="code"/>
      </type>
      <fixedCode value="individual"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.measure">
      <path value="MeasureReport.measure"/>
      <short value="This references a measure that represents a risk adjustment model, such as CMS-HCC V24."/>
      <type>
        <code value="canonical"/>
        <targetProfile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-model-measure"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.subject">
      <path value="MeasureReport.subject"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.date">
      <path value="MeasureReport.date"/>
      <short value="When the report was generated"/>
      <definition value="This is the date when the risk adjustment coding gap reports were generated by payers' back end systems such as legacy system, FHIR server, risk adjustment engine.
         For example, a payer may generate risk adjustment coding gap reports for members quarterly or at a different frequency."/>
      <min value="1"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.reporter">
      <path value="MeasureReport.reporter"/>
      <short value="Organization that generated the MeasureReport"/>
      <definition value="Organization that generated the MeasureReport"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.period">
      <path value="MeasureReport.period"/>
      <short value="Clinical evaluation period during which risk adjusting encounters could be conducted and documented with expectations of submission for risk adjustment purposes."/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Period"/>
      </type>
      <condition value="ra-1"/>
      <constraint>
        <key value="ra-1"/>
        <severity value="error"/>
        <human value="Date precision SHALL be at least to day ( YYYY-MM-DD )"/>
        <expression value="start.toString().length()>9 and end.toString().length()>9"/>
      </constraint>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.period.start">
      <path value="MeasureReport.period.start"/>
      <min value="1"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.period.end">
      <path value="MeasureReport.period.end"/>
      <min value="1"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group">
      <path value="MeasureReport.group"/>
      <short value="A group contains information for a Condition Category. If a patient/member has multiple Condition Categories, there will be multiple group(s) and each group represents a Condition Category."/>
      <definition value="Condition Categories and detailed information for the coding gap."/>
      <min value="0"/>
      <max value="*"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.id">
      <path value="MeasureReport.group.id"/>
      <min value="1"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.extension:ccType">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="ccType"/>
      <min value="1"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-ccType"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.extension:dxCode">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="dxCode"/>
      <short value="diagnosis code: if ccType historic or net-new, this is documented condition; if ccType is suspected, this is inferred/suspected condition."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-dxCode"/>
      </type>
      <mustSupport value="true"/>
    </element>         
    <element id="MeasureReport.group.extension:evidenceStatus">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="evidenceStatus"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-evidenceStatus"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.extension:evidenceStatusDate">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="evidenceStatusDate"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-evidenceStatusDate"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.extension:hierarchiesAppliedStatus">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="hierarchicalStatus"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-hierarchicalStatus"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.extension:confidenceScale">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="confidenceScale"/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-confidenceScale"/>
      </type>
      <mustSupport value="true"/>
    </element> 
    <element id="MeasureReport.group.extension:ccRemark">
      <path value="MeasureReport.group.extension"/>
      <sliceName value="ccRemark"/>
      <short value="Remark added to a Condition Category"/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-ccRemark"/>
      </type>
      <mustSupport value="true"/>
    </element>  
    <element id="MeasureReport.group.code">
      <path value="MeasureReport.group.code"/>
      <short value="Condition Category (CC) code for a Risk Adjustment Model"/>
      <definition value="Condition Category (CC) code for a Risk Adjustment Model."/>
      <min value="0"/>
      <max value="1"/>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <binding>
        <strength value="example"/>
        <valueSet value="http://hl7.org/fhir/us/davinci-ra/ValueSet/sample-cmshcc"/>
      </binding>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.group.stratifier.code">
      <path value="MeasureReport.group.stratifier.code"/>
      <min value="0"/>
      <max value="1"/>
    </element>
    <element id="MeasureReport.evaluatedResource">
      <path value="MeasureReport.evaluatedResource"/>
      <short value="An evaluated resource is any data a clinician would need to independently arrive at the clinical inference that a Condition Category (CC) listed on a Risk Adjustment Coding Gap Report could be present for a patient. Risk adjusted evaluated resources may include practitioners, encounters, diagnoses, medications, labs, or any other clinical evidence that the suspecting algorithm may have used as supporting evidence to infer the presence of a Condition Category (CC) gap."/>
      <definition value="An evaluated resource is any data a clinician would need to independently arrive at the clinical inference that a Condition Category (CC) listed on a Risk Adjustment Coding Gap Report could be present for a patient. Risk adjusted evaluated resources may include practitioners, encounters, diagnoses, medications, labs, or any other clinical evidence that the suspecting algorithm may have used as supporting evidence to infer the presence of an Condition Category (CC) gap."/>
      <mustSupport value="true"/>
    </element>
    <element id="MeasureReport.evaluatedResource.extension:groupReference">
      <path value="MeasureReport.evaluatedResource.extension"/>
      <sliceName value="groupReference"/>
      <definition value="This id references the `MeasureReport.group.id`, which allows linking a supporting resource to a specific Condition Categories coding gap."/>
      <min value="0"/>
      <max value="*"/>
      <type>
        <code value="Extension"/>
        <profile value="http://hl7.org/fhir/us/davinci-ra/StructureDefinition/ra-groupReference"/>
      </type>
      <mustSupport value="true"/>
    </element>
  </differential>
</StructureDefinition>
